language: python
python:
- "2.7"
sudo: false
addons:
  apt:
    packages:
    - libcairomm-1.0-dev
    - libboost-all-dev
install:
- pip install https://github.com/pygobject/pycairo/releases/download/v1.15.2/pycairo-1.15.2.tar.gz
- pip install sphinx matplotlib coverage
- ls /home/travis/virtualenv/python2.7/lib/pkgconfig
- export PKG_CONFIG_PATH=PKG_CONFIG_PATH:/home/travis/virtualenv/python2.7/lib/pkgconfig
script:
- coverage run "--include=DrawTurksHead/*" setup.py test
- python setup.py build_sphinx --builder=doctest
after_success:
- pip install coveralls
- coveralls
deploy:
  provider: pypi
  user: jacquev6
  password:
    secure: IxZkM+jLb2kdI836H4h5dAXFu33D7J1FUuJw/Os752XqH0wBK5Xkk/LFz383Nw6auz6ppwjgmnvKdogH+KZwZ/9E5UaNb3cA0veJJDxwdl1c3iZP8z5i0Bk+KsnqJgaUnNuEIWO46Y9LB6VzazhOwE3Ftc+5kzrnEXUU7285iE8=
  skip_upload_docs: true
  on:
    tags: true
    repo: jacquev6/DrawTurksHead
    python: 2.7
